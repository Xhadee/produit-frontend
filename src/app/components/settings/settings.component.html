<div class="container-fluid py-4">
  <div class="header-glass p-4 mb-5 rounded-5 shadow-soft">
    <h2 class="title-theme fw-black mb-1">Configuration</h2>
    <p class="text-secondary-adaptive mb-0">Gérez votre profil et les préférences de la plateforme.</p>
  </div>

  <div class="row g-4">
    <div class="col-lg-3">
      <div class="card border-0 shadow-soft p-3 rounded-4 bg-white">
        <div class="nav flex-column nav-pills gap-2">
          <button class="nav-link rounded-3 p-3 text-start d-flex align-items-center"
                  [class.active]="activeTab === 'profil'" (click)="setTab('profil')">
            <i class="bi bi-person-circle me-3"></i> Profil
          </button>
          <button class="nav-link rounded-3 p-3 text-start d-flex align-items-center"
                  [class.active]="activeTab === 'systeme'" (click)="setTab('systeme')">
            <i class="bi bi-translate me-3"></i> Langue & Région
          </button>
          <button class="nav-link rounded-3 p-3 text-start d-flex align-items-center"
                  [class.active]="activeTab === 'notifs'" (click)="setTab('notifs')">
            <i class="bi bi-bell-fill me-3"></i> Notifications
          </button>
        </div>
      </div>
    </div>

    <div class="col-lg-9">
      <div class="card border-0 shadow-soft p-5 rounded-4 bg-white">
        <form [formGroup]="settingsForm" (ngSubmit)="onSubmit()">

          <div *ngIf="activeTab === 'profil'" class="fade-in">
            <h4 class="fw-bold mb-4">Informations personnelles</h4>
            <div class="row g-3">
              <div class="col-md-6">
                <label class="label-pro">NOM D'UTILISATEUR</label>
                <input type="text" class="form-control custom-input" formControlName="nom">
              </div>
              <div class="col-md-6">
                <label class="label-pro">EMAIL</label>
                <input type="email" class="form-control custom-input" formControlName="email">
              </div>
            </div>
          </div>

          <div *ngIf="activeTab === 'systeme'" class="fade-in">
            <h4 class="fw-bold mb-4">Préférences système</h4>
            <div class="row g-3">
              <div class="col-md-6">
                <label class="label-pro">LANGUE</label>
                <select class="form-select custom-input" formControlName="langue">
                  <option *ngFor="let l of languages" [value]="l.code">{{l.flag}} {{l.label}}</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="label-pro">DEVISE</label>
                <input type="text" class="form-control custom-input" formControlName="devise" readonly>
              </div>
            </div>
          </div>

          <div *ngIf="activeTab === 'notifs'" class="fade-in">
            <h4 class="fw-bold mb-4">Paramètres d'alerte</h4>
            <div class="form-check form-switch mb-3">
              <input class="form-check-input" type="checkbox" formControlName="notifEmail">
              <label class="form-check-label ms-2">Recevoir les rapports par Email</label>
            </div>
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" formControlName="notifStock">
              <label class="form-check-label ms-2">Alertes de stock critique</label>
            </div>
          </div>

          <div class="mt-5 pt-4 border-top text-end">
            <button type="submit" class="btn btn-primary-gradient px-5 py-2 rounded-pill fw-bold border-0 shadow-primary">
              Enregistrer
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
